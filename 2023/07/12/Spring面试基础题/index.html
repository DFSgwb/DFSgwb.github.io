
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Spring面试基础题 | DFSgwb</title>
        <meta name="author" content="GWB" />
        <meta name="description" content="我的技术分享" />
        <meta name="keywords" content="" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" />
        <link rel="icon" href="/images/avatar.jpg" />
        <script src="https://cdn.staticfile.org/vue/3.2.47/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.3.0/css/all.min.css" />
<link rel="stylesheet" href="/css/fonts.min.css" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://cdn.staticfile.org/highlight.js/11.7.0/highlight.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.staticfile.org/highlight.js/11.7.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://cdn.staticfile.org/KaTeX/0.16.4/katex.min.js"></script>
<script src="https://cdn.staticfile.org/KaTeX/0.16.4/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.16.4/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

    <meta name="generator" content="Hexo 6.3.0"></head>
    
    <body>
        
        <div id="layout">
            
            <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
            
            </transition>
            <nav id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <div class="desktop-menu">
        <a class="title" href="/">
            <span>DFSGWB</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about/">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives/">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories/">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </div>
    <div id="mobile-menu">
        <div class="curtain" @click="shouMenuItems = !shouMenuItems" v-show="shouMenuItems"></div>
        <div class="title" @click="shouMenuItems = !shouMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;DFSGWB</span>
        </div>
        <transition name="slide">
        <div class="items" v-show="shouMenuItems">
            
            <a href="/">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-house fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                </div>
            </a>
            
            <a href="/about/">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-id-card fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                </div>
            </a>
            
            <a href="/archives/">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-box-archive fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                </div>
            </a>
            
            <a href="/categories/">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-bookmark fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                </div>
            </a>
            
            <a href="/tags">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-tags fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                </div>
            </a>
            
        </div>
        </transition>
    </div>
</nav>

            <transition name="into">
            <div id="main" v-show="!loading">
                <div class="article">
    <div>
        <h1>Spring面试基础题</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/7/12
        </span>
        
        <span class="category">
            <a href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                后端开发
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            <span class="tag">
                
                <a href="/tags/%E9%9D%A2%E8%AF%95/" style="color: #03a9f4">面试</a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/Java/" style="color: #03a9f4">Java</a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/%E5%90%8E%E7%AB%AF/" style="color: #00a596">后端</a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/Spring/" style="color: #ffa2c4">Spring</a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <h3 id="什么是-Spring-框架？"><a href="#什么是-Spring-框架？" class="headerlink" title="什么是 Spring 框架？"></a>什么是 Spring 框架？</h3><p>Spring 是一个轻量级的控制反转（IoC）和面向切面（AOP）的容器框架。目的是为了解决企业级应用开发的业务逻辑层和其他各层的耦合问题。是一个分层的 JavaSE&#x2F;EE full-stack（一站式）轻量级开源框架。为 Java 应用程序提供了全面的基础性服务支持，通过 IOC 和 AOP 功能，Spring 帮助企业级应用程序在简单的 Java 对象（POJO）上构建简洁、可维护的企业级应用。</p>
<p>为了降低 Java 开发的复杂性，Spring 采用了以下 4 种关键策略：</p>
<ul>
<li>基于 POJO 的轻量级和最小侵入性编程；</li>
<li>通过 IOC、依赖注入（DI）和面向接口实现松耦合；</li>
<li>基于切面和惯例进行声明式编程；</li>
<li>通过切面和模板减少样式代码；</li>
</ul>
<h3 id="Spring-的两大核心概念"><a href="#Spring-的两大核心概念" class="headerlink" title="Spring 的两大核心概念"></a>Spring 的两大核心概念</h3><h4 id="控制反转（IoC）"><a href="#控制反转（IoC）" class="headerlink" title="控制反转（IoC）"></a>控制反转（IoC）</h4><p>控制反转是一种通过描述（XML 或注解）并通过第三方去生产或获取特定对象的方式。在 Spring 中实现控制反转的是 IOC 容器，其实现方法是依赖注入（Dependency Injection，DI）。IOC 容器在创建对象时，会将它所依赖的对象注入进去，而不是由对象主动去获取依赖对象。核心思想是将程序的控制权从程序员转移到了 Spring 容器，通过容器来实现对象的装配和管理。程序员只需要关注业务逻辑本身的实现，而不用去管理对象的创建和组装。</p>
<p>优点：</p>
<blockquote>
<ul>
<li>降低了组件之间的耦合度，提高了代码的可重用性和可维护性；</li>
<li>提高了系统的扩展性和灵活性，通过配置文件或注解的方式来描述对象的依赖关系，可以方便的进行配置和修改，不需要修改代码；</li>
<li>提高了代码的可维护性和可测试性，因为控制反转后，每个组件的职责更加单一，代码更加容易测试，同时也便于功能复用。</li>
<li>降低开发成本，降低了代码的复杂度，提高了开发效率。</li>
</ul>
</blockquote>
<h4 id="面向切面编程（AOP）"><a href="#面向切面编程（AOP）" class="headerlink" title="面向切面编程（AOP）"></a>面向切面编程（AOP）</h4><p>面向切面编程是一种新的编程范式，是对传统 OOP 的补充。OOP 通过封装、继承、多态来建立一种对象层次结构，以此来模拟真实世界。而 AOP 则是针对业务处理过程中的切面进行提取，它所面对的是处理过程中的某个步骤或阶段，这些步骤或阶段通常称为横切关注点，这些横切关注点在业务处理过程中往往散布于各个业务模块中，而核心业务模块往往会有多个对象参与，这些横切关注点在对象中得到分散和实现，它们分散于各个不同的对象中，与业务无关，却为业务所共同调用。AOP 的作用在于分离系统中的各种关注点，将核心关注点和横切关注点分离开来，横切关注点被封装为特殊的类，称为切面（Aspect），切面将导致系统的多个模块都产生影响，所以 AOP 被称为横切面向的编程。</p>
<h5 id="Spring-AOP-支持以下几种类型的切面"><a href="#Spring-AOP-支持以下几种类型的切面" class="headerlink" title="Spring AOP 支持以下几种类型的切面"></a>Spring AOP 支持以下几种类型的切面</h5><ul>
<li>基于方法的切面：通过在方法执行之前，之后或者抛出异常时执行额外的逻辑来切入方法</li>
<li>基于切点的切面：通过定义一个切点，该切点确定在哪些方法上应用切面逻辑</li>
<li>基于注解的切面：通过在切面逻辑上添加注解，Spring 将判断何时应该在运行时应用该切面逻辑</li>
</ul>
<h5 id="Spring-AOP-通知（Advice）的类型"><a href="#Spring-AOP-通知（Advice）的类型" class="headerlink" title="Spring AOP 通知（Advice）的类型"></a>Spring AOP 通知（Advice）的类型</h5><ul>
<li>前置通知（Before）：在目标方法被调用之前调用通知功能</li>
<li>后置通知（After）：在目标方法完成之后调用通知，此时不会关心方法的输出是什么</li>
<li>异常通知（AfterThrowing）：在目标方法抛出异常后调用通知</li>
<li>最终通知（AfterReturning）：在目标方法完成之后调用通知，此时不会关系方法是否执行成功</li>
<li>环绕通知（Around）：在目标方法调用前后调用通知，可以控制目标方法的执行与否</li>
</ul>
<h3 id="Spring-的优点"><a href="#Spring-的优点" class="headerlink" title="Spring 的优点"></a>Spring 的优点</h3><ul>
<li>方便解耦，简化开发：Spring 就是一个大工厂，可以将所有对象创建和依赖关系维护，交给 Spring 管理。</li>
<li>AOP 编程的支持：Spring 提供面向切面编程，可以方便的实现对程序进行权限拦截和运行监控等功能。</li>
<li>声明式事务的支持：只需要通过配置就可以完成对事务的管理，而无需手动编程。</li>
<li>方便程序的测试：Spring 对 Junit4 支持，可以通过注解方便的测试 Spring 程序。</li>
<li>方便集成各种优秀框架：Spring 不排斥各种优秀的开源框架，其内部提供了对各种优秀框架（如：Struts、Hibernate、MyBatis、Quartz 等）的直接支持。</li>
<li>降低 JavaEE API 的使用难度：Spring 对 JavaEE 开发中非常难用的一些 API（JDBC、JavaMail、远程调用等），都提供了封装，使这些 API 应用难度大大降低。</li>
</ul>
<h3 id="Spring-的缺点"><a href="#Spring-的缺点" class="headerlink" title="Spring 的缺点"></a>Spring 的缺点</h3><ul>
<li>Spring 的 API 比较难学，它是一个学习成本较高的框架。</li>
<li>依赖反射机制，会影响程序的性能。</li>
<li>没有轻量框架的感觉，配置过于复杂，比如需要配置文件、依赖等。</li>
</ul>
<h3 id="Spring-的架构"><a href="#Spring-的架构" class="headerlink" title="Spring 的架构"></a>Spring 的架构</h3><div align="center"><img src="/2023/07/12/Spring%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80%E9%A2%98/Spring架构.PNG"></div>

<p>Spring 总共大约有 20 个模块， 由 1300 多个不同的文件构成。 而这些组件被分别整合在核心容器（Core Container） 、 AOP（Aspect Oriented Programming）和设备支持（Instrmentation） 、数据访问与集成（Data Access&#x2F;Integeration） 、 Web、 消息（Messaging） 、 Test 等 6 个模块中</p>
<ul>
<li>核心容器（Core Container）：核心容器提供 Spring 框架的基本功能。核心容器的主要组件是 BeanFactory，它是工厂模式的实现。BeanFactory 使用控制反转（IOC） 模式将应用程序的配置和依赖性规范与实际的应用程序代码分开。编程人员可以通过配置文件来指定应用程序需要哪些对象，由 BeanFactory 来将这些对象实例化。</li>
<li>AOP（Aspect Oriented Programming）：通过配置管理特性，Spring AOP 模块直接将面向方面的编程功能集成到了 Spring 框架中。所以，可以很容易地使 Spring 框架管理的任何对象支持 AOP。Spring AOP 模块为基于 Spring 的应用程序中的对象提供了事务管理服务。通过使用 Spring AOP，不用依赖 EJB 组件，就可以将声明性事务管理集成到应用程序中。</li>
<li>Beans：Beans 模块是构成框架的基础。它提供了 BeanFactory，它是工厂模式的经典实现，以及用于处理控制反转的 BeanFactoryPostProcessor 和 BeanPostProcessor 接口。BeanFactoryPostProcessor 可以在容器实例化任何 bean 之前读取配置元数据，并可以根据需要进行修改。BeanPostProcessor 接口允许 bean 实例在实例化过程中进行自定义修改。Spring 将管理对象称为 bean。</li>
<li>Context：Context 模块构建于 Beans 模块之上。它添加了国际化（使用 ContextMessageSource 接口）、资源加载（使用 ContextResourceLoader 接口）和对框架事件的发布（使用 ApplicationEventPublisher 接口，ApplicationContext 接口实现了这个接口）的支持。ApplicationContext 是 Beans 模块的一个子集，它添加了自动化生命周期管理。这些功能包括容器的启动和关闭时自动化的实例化和销毁。它还检测由框架和应用程序抛出的任何 BeanException 类型的异常，并将它们重新抛出为更易于使用的异常类型。</li>
<li>jdbc：JDBC 模块提供了一个 JDBC 抽象层，它消除了编写冗长的 JDBC 代码和针对特定数据库供应商的代码的需要。Transaction 模块支持程序式和声明式事务管理，JDBC 模块提供了一个 JDBC 抽象层，它消除了编写冗长的 JDBC 代码和针对特定数据库供应商的代码的需要。Transaction 模块支持程序式和声明式事务管理。</li>
<li>Web：Web 模块提供了基本的 Web 集成特性，例如多文件上传功能、使用 Servlet 监听器初始化 IoC 容器、使用 Web 应用程序上下文自动注册 bean 等。</li>
<li>Test：Test 模块支持使用 JUnit 和 TestNG 进行测试。它还提供了 Spring 应用程序上下文的 Mock 实现，用于测试代码。</li>
</ul>
<h3 id="Spring-的设计模式"><a href="#Spring-的设计模式" class="headerlink" title="Spring 的设计模式"></a>Spring 的设计模式</h3><ul>
<li>工厂模式：Spring 使用工厂模式通过 BeanFactory、ApplicationContext 创建 bean 对象。</li>
<li>单例模式：Spring 中的 Bean 默认都是单例的。</li>
<li>代理模式：Spring AOP 功能的实现。用到了 JDK 动态代理和 CGLIB 字节码生成技术。</li>
<li>模板方法模式：Spring 中 jdbcTemplate、hibernateTemplate 等以 Template 结尾的对数据库操作的类，它们就使用到了模板模式。用来解决代码重复的问题，它定义了一个算法的步骤，并允许子类为一个或多个步骤提供实现。</li>
<li>观察者模式：定义对象键一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并被自动更新。如 Spring 中 Listener 的实现 ApplicationListener。</li>
</ul>
<h4 id="JDK-动态代理"><a href="#JDK-动态代理" class="headerlink" title="JDK 动态代理"></a>JDK 动态代理</h4><p>JDK 动态代理是 Java 语言自带的动态代理，它位于 java.lang.reflect 包中的 Proxy 类和 InvocationHandler 接口，一般情况下，动态代理的使用不需要用户去直接操作它的 API，而是通过一些间接的方式来间接使用动态代理的 API。<br>使用动态代理的步骤：</p>
<ol>
<li>创建一个实现接口 InvocationHandler 的类，该类负责实现代理逻辑，在实现类中，需要重写 invoke 方法，在代理对象的方法被调用时 invoke 会被执行。</li>
<li>通过 Proxy 的静态方法 newProxyInstance(ClassLoader loader,Class[] interfaces,InvocationHandler h)创建一个代理对象。三个参数的含义：classLoader 类加载器，class[]被代理的接口，InvocationHandler h 实现类的实例。</li>
<li>通过代理对象调用目标方法。实际上是调用了 InvocationHandler 的 invoke 方法。<br>优点：不需要实现接口，可以在运行期动态的创建某个对象的代理对象。<br>缺点：只能代理实现了接口的类，不能代理没有实现接口的类。</li>
</ol>
<h4 id="Java-字节码"><a href="#Java-字节码" class="headerlink" title="Java 字节码"></a>Java 字节码</h4><p>Java 字节码是一种中间代码，它是 Java 源代码编译后的结果。Java 字节码可以在任何支持 Java 虚拟机（JVM）的平台上运行，这使得 Java 成为一种跨平台的编程语言。Java 字节码是一种基于栈的指令集，它包含了一系列的指令，用于执行各种操作，例如加载、存储、运算、跳转等。Java 字节码可以通过反编译工具转换为 Java 源代码，这使得 Java 字节码成为一种保护 Java 代码的方式。在 Java 中，动态代理和 AOP 等技术都是基于 Java 字节码实现的。</p>
<h4 id="CGLIB-字节码生成"><a href="#CGLIB-字节码生成" class="headerlink" title="CGLIB 字节码生成"></a>CGLIB 字节码生成</h4><p>CGLIB（Code Generation Library）是一个基于 ASM（Java 字节码操控框架）的字节码生成库，它允许我们在运行时对字节码进行修改和动态生成。CGLIB 通过继承方式实现代理，它也是 Spring AOP 实现的方式之一。它可以通过继承和重写方法来生成代理类，并在代理类中添加额外的逻辑.CGLIB 通过生成目标类的子类来实现代理，然后在子类中重写目标方法，并在重写的方法中添加额外的逻辑，这种比原生的代理更加灵活，但是也有一些缺点，因为它是通过继承来实现代理的，所以如果目标类是 final 类型的，那么它是无法继承的，也就无法实现代理。<br>下面是一个简单的 CGLIB 代理的例子：</p>
<pre><code class="java">public class TargetClass &#123;
    public void doSomething() &#123;
        System.out.println(&quot;TargetClass: doSomething&quot;);
    &#125;
&#125;

public class MyInterceptor implements MethodInterceptor &#123;
    @Override
    public Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) throws Throwable &#123;
        System.out.println(&quot;Before method: &quot; + method.getName());
        Object result = proxy.invokeSuper(obj, args);
        System.out.println(&quot;After method: &quot; + method.getName());
        return result;
    &#125;
&#125;

public class Main &#123;
    public static void main(String[] args) &#123;
        Enhancer enhancer = new Enhancer();
        enhancer.setSuperclass(TargetClass.class);
        enhancer.setCallback(new MyInterceptor());
        TargetClass proxy = (TargetClass) enhancer.create();
        proxy.doSomething();
    &#125;
&#125;
</code></pre>
<h3 id="Spring-Context-应用上下文模块"><a href="#Spring-Context-应用上下文模块" class="headerlink" title="Spring Context 应用上下文模块"></a>Spring Context 应用上下文模块</h3><p>这是基本的 Spring 模块，提供 Spring 框架的基础功能，BeanFactory 是任何以 spring 为基础的应用的核心，Spring 框架建立在此模块之上，它使 Spring 成为一个容器。Bean 工厂是工厂模式的实现，提供了控制反转 IOC 功能，用来把应用的配置和依赖从实际的应用代码中解耦出来。最常用的就是 org.springframework.beans.factory.xml.XmlBeanFactory，它从 XML 文件中读取配置元数据，由这些元数据来生成一个被配置化的系统或者应用。</p>

    </div>
    
    
    
    
    
    
    
</div>

                <footer id="footer">
    <div align="center">
        <strong align="center">本文作者：</strong>GWB</a> 
        <br>
        <strong align="center">当前时间：</strong>2023-07-12 17:07:50</a>
        <br>
        <strong align="center">版权声明：本文由gwb原创,本博客所有文章除特别声明外,均采用</strong>
        <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
        国际许可协议。
        <br>
        <strong>转载请注明出处！</strong>
    </div>
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2023 DFSgwb
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;GWB
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/argvchs/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>
            </div>
            </transition>
            <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1895164923&auto=1&height=66"></iframe>
            
            <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
            </transition>
            
        </div>
        <script src='/js/main.js'></script>
        <canvas id="fireworks" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 32767"></canvas>
        <script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>
        <script src='/js/fireworks.min.js'></script>
        <!--<div id="cursor"></div>
        <link rel="stylesheet" href="../source/css/cursor.min.css" />
        <script src='/js/cursor.min.js'></script>-->
        <canvas id="background" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: -1"></canvas>
        <script src='/js/background.min.js'></script>
        
        




        
    </body>
</html>
